databaseChangeLog:
  - logicalFilePath: /db/migration/changelog-master.yaml
  - changeSet:
      id: 111
      author: dzmitry-darashuk
      changes:
        - createTable:
          tableName: Album
          columns:
            - column:
                name: id
                type: BIGINT
                autoIncrement: true
                constraints:
                  primaryKey: true
                  nullable: false
            - column:
                name: name
                type: VARCHAR(250)
                constraints:
                  nullable: false
            - column:
                  name: year
                  type: BIGINT
                  constraints:
                  nullable: false
            - column:
                  name: notes
                  type: VARCHAR(250)
                  constraints:
                  nullable: false
  - changeSet:
      id: 222
      author: darashuk-dzmitry
      changes:
        - createTable:
            tableName: Genre
            columns:
              - column:
                name: id
                type: BIGINT
                autoIncrement: true
                constraints:
                primaryKey: true
                nullable: false
              - column:
                name: genreName
                type: VARCHAR(250)
                constraints:
                nullable: false
  - changeSet:
      id: 333
      author: darashuk-dzmitry
      changes:
          - createTable:
              tableName: Artist
              columns:
                - column:
                    name: id
                    type: BIGINT
                    autoIncrement: true
                    constraints:
                      primaryKey: true
                      nullable: false
                - column:
                    name: artistName
                    type: VARCHAR(250)
                    constraints:
                      nullable: false
                - column:
                    name: artistNotes
                    type: VARCHAR(250)
                    constraints:
                      nullable: false
                - column:
                    name: genreId
                    type: BIGINT
                    constraints:
                    nullable: false
                    foreignKey: true
                    foreignKeyName: genreId
                    references: Genre(id)
  - changeSet:
      id: 444
      author: darashuk-dzmitry
      changes:
        - createTable:
            tableName: Storage
            columns:
              - column:
                name: id
                type: BIGINT
                autoIncrement: true
                constraints:
                primaryKey: true
                nullable: false
              - column:
                name: storageType
                type: VARCHAR(250)
                constraints:
                nullable: false

  - changeSet:
      id: 555
      author: darashuk-dzmitry
      changes:
        - createTable:
            tableName: Source
            columns:
              - column:
                name: id
                type: BIGINT
                autoIncrement: true
                constraints:
                primaryKey: true
              - column:
                  name: storage_id
                  type: BIGINT
                  constraints:
                  nullable: false
                  foreignKey: true
                  foreignKeyName: storage_id
                  references: Storage(id)
              - column:
                  name: song_id
                  type: BIGINT
                  constraints:
                  nullable: false
              - column:
                  name: name
                  type: VARCHAR(250)
                  constraints:
                  nullable: false
              - column:
                  name: path
                  type: VARCHAR(250)
                  constraints:
                  nullable: false
              - column:
                  name: size
                  type: BIGINT
                  constraints:
                  nullable: false
              - column:
                  name: checksum
                  type: VARCHAR(250)
                  constraints:
                  nullable: false
              - column:
                  name: storage_types
                  type: VARCHAR(250)
                  constraints:
                  nullable: false
              - column:
                  name: file_type
                  type: VARCHAR(250)
                  constraints:
                  nullable: false
  - changeSet:
      id: 666
      author: darashuk-dzmitry
      changes:
        - createTable:
            tableName: Song
            columns:
              - column:
                  name: id
                  type: BIGINT
                  autoIncrement: true
                  constraints:
                    primaryKey: true
                    nullable: false
              - column:
                  name: album_id
                  type: BIGINT
                  constraints:
                    nullable: false
                    foreignKey: true
                    foreignKeyName: album_id
                    references: Album(id)
              - column:
                  name: name
                  type: VARCHAR(250)
                  constraints:
                  nullable: false
              - column:
                  name: notes
                  type: VARCHAR(250)
                  constraints:
                  nullable: false
              - column:
                  name: year
                  type: BIGINT
                  constraints:
                  nullable: false
  - changeSet:
      id: 777
      author: darashuk-dzmitry
      changes:
        - createTable:
            tableName: SourceMetadata
            columns:
              - column:
                name: type
                type: VARCHAR(250)
                primaryKey: true
                nullable: false
              - column:
                  name: path
                  type: VARCHAR(250)
                  constraints:
                  nullable: false
  - changeSet:
      id: init-table-Album
      author: darashuk-dzmitry
      changes:
        - insert:
          tableName: Album
          columns:
            - column:
              name: id
              value: 1
            - column:
              name: year
              value: 2005
            - column:
              name: name
              value: 'Spring'
            - column:
              name: notes
              value: 'My really loved framework'
          rollback:
            - delete:
              tableName: Album
              where: id in (1)
  - changeSet:
              id: init-table-Song
              author: darashuk-dzmitry
              changes:
                 - insert:
                   tableName: Song
                   columns:
                          - column:
                              name: id
                              value: 1
                          - column:
                              name: album_id
                              value: 1
                          - column:
                              name: name
                              value: "Yesterday"
                          - column:
                              name: notes
                              value: "Yesterday notes"
                          - column:
                              name: year
                              value: 2020
                   rollback:
                      - delete:
                        tableName: Song
                        where: id in (1)
  - changeSet:
              id: init-table-Source
              author: darashuk-dzmitry
              changes:
                - insert:
                  tableName: Source
                  columns:
                      - column:
                        name: id
                        value: 1
                      - column:
                            name: storage_id
                            value: 1
                      - column:
                            name: path
                            value: "C:\\Users\\Epam_MusicPlayer\\musik_files"
                      - column:
                            name: size
                            value: 55555
                      - column:
                            name: checksum
                            value: "b25b589bf15fe218cbdcd91e7fdfc959"
                      - column:
                            name: song_id
                            value: 1
                      - column:
                            name: storage_types
                            value: "FILE_SYSTEM"
                      - column:
                            name: name
                            value: "Yesterday"
                  rollback:
                     - delete:
                       tableName: Source
                       where: id in (1)

